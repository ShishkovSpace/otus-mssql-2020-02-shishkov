# otus-mssql-2020-02-shishkov
Домашние задания курса OTUS "MS SQL Server разработчик".
Группа 2020-02.

Предварительные идея и задачи для итогового проекта:

Спроектировать аналитическую БД и разработать ETL процесс по ежедневной выгрузке в нее данных из БД приложения, содержащей множественные дата документы, хранимые в XML формате.
БД приложения предназначена для хранения системной информации по заявкам кредитования/автокредитования. Основная пользовательская информация и информация непосредственно по заявкам храниться в XML дата документах, которые сохраняются на стороне БД с типом данных nvarchar(max).
Данные из хранимых XML документов необходимо ежедневно извлекать в аналитическую БД посредством парсинга XML. XML документы могут иметь сложную множественную структуру узлов. Для одного идентификатора заявки может быть несколько дата документов (до 10), содержащих различные бизнесс данные.
Ежедневный объем заявок может варьироваться от 1000 зявок в день до 4000. Выгрузку необходимо осуществлять в течении 3 часов. В процессе выгрузки данных необходимо осуществлять логирование и идентификацию ошибок до глубины обрабатывемой заявки (ID), XML документа и обрабатываемого в нем узла.
Планируется аналитическую БД спроектировать с использованием методики Data Vault (в рамках сущностей, например, рассмотреть каждый выгружаемый дата документ) и разделением на две схемы - staging и datamart.
В рамках stagingá осуществлять логирование процесса выгрузки и хранение данных о поледнем выполнении, а в рамках datamartá хранить конечные и исторические данные.
По возможности для ускорения процесса выгрузки хотелось бы изучить вопрос потенциальной параллелизации обработки и парсинга XML документов и вставки данных пачками сразу по нескольким заявкам, а не по отдельности, т.к. есть подозрение, что на большом обьеме обработка и извлечение данных может занять существенное количество времени.
Также хотелось бы сделать ETL процесс и аналитическую БД достаточно легко масштабируемыми в части добавления нового функционала.
ETL процесс планирую разработать посредством выполнения хранимых процедур и функций, для которых также хотелось бы прорабоать вопрос покрытия их авто тестами, например, на тестовых данных.
